!function(){var a=window.App=Ember.Application.create();a.firebaseRef=new Firebase("https://glaring-fire-2767.firebaseio.com"),a.UserProfile=Ember.Object.extend({}),a.userProfile=a.UserProfile.create({loginFailed:!1,isProcessing:!1,isSlowConnection:!1,timeout:null}),a.auth=new FirebaseSimpleLogin(a.firebaseRef,function(b,c){b?(console.log("there was a problem. Error is: ",b),clearTimeout(a.userProfile.get("timeout")),a.userProfile.set("loginFailed",!0),a.userProfile.set("loginError",b.message),a.userProfile.set("isProcessing",!1),a.userProfile.set("isSlowConnection",!1),console.log("there was a problem. App.userProfile is: ",a.userProfile)):c?(console.log("User ID: "+c.id+", Provider: "+c.provider),clearTimeout(a.userProfile.get("timeout")),a.userProfile.set("loginFailed",!1),a.userProfile.set("isProcessing",!1),a.userProfile.set("isSlowConnection",!1),a.userProfile.set("user",c),console.log("great success. App.userProfile is: ",a.userProfile)):console.log("I'm not logged in so give me some options to log in please")})}(),function(){App.AccountController=Ember.ObjectController.extend({actions:{register:function(){console.log("SIGN UP clicked. model in AccountController before manipulation is: ",this.get("model")),this.set("model.isProcessing",!0),this.set("model.loginFailed",!1),this.set("model.timeout",setTimeout(this.slowConnection.bind(this.get("model")),5e3)),console.log("model in AccountController after manipulation is: ",this.get("model"));var a=this;App.auth.createUser(this.get("email"),this.get("password"),function(b,c){b?(console.log("there was an error in registration: ",b),clearTimeout(a.get("model.timeout")),a.set("model.isProcessing",!1),a.set("model.isSlowConnection",!1),a.set("model.loginFailed",!0)):(console.log("successfully registered!"),console.log("User Id: "+c.id+", Email: "+c.email),clearTimeout(a.get("model.timeout")),a.set("model.isProcessing",!1),a.set("model.isSlowConnection",!1),a.set("model.user",c),console.log("great success. App.userProfile is: ",App.userProfile))}),this.clearForm()},login:function(){console.log("login clicked. model in AccountController before manipulation is: ",this.get("model")),this.set("model.isProcessing",!0),this.set("model.loginFailed",!1),this.set("model.timeout",setTimeout(this.slowConnection.bind(this.get("model")),5e3)),console.log("model in AccountController after manipulation is: ",this.get("model")),App.auth.login("password",{email:this.get("email"),password:this.get("password")}),this.clearForm()},loginFacebook:function(){App.auth.login("facebook",{scope:"email"}),this.clearForm()},loginTwitter:function(){App.auth.login("twitter"),this.clearForm()},logout:function(){App.auth.logout(),App.userProfile.set("user",null),this.clearForm()}},slowConnection:function(){this.set("model.isSlowConnection",!0)},clearForm:function(){this.set("email",""),this.set("password","")}})}(),function(){App.ProfileController=Ember.ObjectController.extend({})}(),function(){App.ApplicationAdapter=DS.FixtureAdapter}(),function(){App.AccountRoute=Ember.Route.extend({model:function(){return App.userProfile},setupController:function(a,b){a.set("model",b)}})}(),function(){App.ApplicationRoute=Ember.Route.extend({model:function(){return App.userProfile}})}(),function(){App.ProfileRoute=Ember.Route.extend({model:function(){return App.userProfile.get("user")},afterModel:function(a){a||this.transitionTo("account")}})}(),function(){App.PropertiesRoute=Ember.Route.extend({model:function(){}})}(),function(){App.Router.map(function(){this.route("style-guide"),this.route("account"),this.route("profile"),this.resource("properties",function(){this.route("property",{path:"/:property_id"})}),this.resource("myhomes",function(){this.route("myhome",{path:"/:property_id"})})}),App.Router.reopen({rootURL:"/neighborgood/"})}(),function(){$(function(){$("#drawer").mmenu({},{selectedClass:"active"})})}();